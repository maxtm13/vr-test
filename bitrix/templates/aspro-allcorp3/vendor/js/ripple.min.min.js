(function($,document,Math){$.ripple=function(selector,options){var self=this;var _log=self.log=function(){if(self.defaults.debug&&console&&console.log){console.log.apply(console,arguments)}};self.selector=selector;self.defaults={debug:false,on:"mousedown",opacity:.4,color:"auto",multi:false,duration:.7,rate:function(pxPerSecond){return pxPerSecond},easing:"linear"};self.defaults=$.extend({},self.defaults,options);var Trigger=function(e){var $this=$(this);var $ripple;var settings;$this.addClass("has-ripple");settings=$.extend({},self.defaults,$this.data());if(settings.multi||!settings.multi&&$this.find(".ripple").length===0){$ripple=$("<span></span>").addClass("ripple");$ripple.appendTo($this);_log("Create: Ripple");if(!$ripple.height()&&!$ripple.width()){var size=Math.max($this.outerWidth(),$this.outerHeight());$ripple.css({height:size,width:size});_log("Set: Ripple size")}if(settings.rate&&typeof settings.rate=="function"){var rate=Math.round($ripple.width()/settings.duration);var filteredRate=settings.rate(rate);var newDuration=$ripple.width()/filteredRate;if(settings.duration.toFixed(2)!==newDuration.toFixed(2)){_log("Update: Ripple Duration",{from:settings.duration,to:newDuration});settings.duration=newDuration}}var color=settings.color=="auto"?$this.css("color"):settings.color;var css={animationDuration:settings.duration.toString()+"s",animationTimingFunction:settings.easing,background:color,opacity:settings.opacity};_log("Set: Ripple CSS",css);$ripple.css(css)}if(!settings.multi){_log("Set: Ripple Element");$ripple=$this.find(".ripple")}_log("Destroy: Ripple Animation");$ripple.removeClass("ripple-animate");var x=e.pageX-$this.offset().left-$ripple.width()/2;var y=e.pageY-$this.offset().top-$ripple.height()/2;if(settings.multi){_log("Set: Ripple animationend event");$ripple.one("animationend webkitAnimationEnd oanimationend MSAnimationEnd",function(){_log("Note: Ripple animation ended");_log("Destroy: Ripple");$(this).remove()})}_log("Set: Ripple location");_log("Set: Ripple animation");$ripple.css({top:y+"px",left:x+"px"}).addClass("ripple-animate")};$(document).on(self.defaults.on,self.selector,Trigger)}})(jQuery,document,Math);