(function($){"use strict";BX.addCustomEvent("BX.Landing.Block:init",function(event){BX.Landing.SliderHelper.init(event,BX.Landing.SliderHelper.ACTION_INIT)});BX.addCustomEvent("BX.Landing.Block:remove",function(event){BX.Landing.SliderHelper.destroy(event)});BX.addCustomEvent("BX.Landing.Block:beforeApplyContentChanges",function(event){BX.Landing.SliderHelper.destroy(event)});BX.addCustomEvent("BX.Landing.Block:Node:update",BX.debounce(function(event){if(!BX.Landing.SliderHelper.isEditorEnable()){BX.Landing.SliderHelper.init(event,BX.Landing.SliderHelper.ACTION_UPDATE)}},300));BX.addCustomEvent("BX.Landing.Block:Card:beforeAdd",function(event){BX.Landing.SliderHelper.destroy(event)});BX.addCustomEvent("BX.Landing.Block:Card:add",function(event){BX.Landing.SliderHelper.init(event,BX.Landing.SliderHelper.ACTION_ADD)});BX.addCustomEvent("BX.Landing.Block:Cards:beforeUpdate",function(event){BX.Landing.SliderHelper.destroy(event)});BX.addCustomEvent("BX.Landing.Block:Cards:update",function(event){BX.Landing.SliderHelper.init(event,BX.Landing.SliderHelper.ACTION_UPDATE)});BX.addCustomEvent("BX.Landing.Block:Card:beforeRemove",function(event){BX.Landing.SliderHelper.destroy(event)});BX.addCustomEvent("BX.Landing.Block:Card:remove",function(event){BX.Landing.SliderHelper.init(event,BX.Landing.SliderHelper.ACTION_REMOVE_SLIDE)});BX.addCustomEvent("BX.Landing.Block:updateStyle",BX.debounce(function(event){const relativeSelector=BX.Landing.SliderHelper.makeCarouselRelativeSelector(event);const sliders=[].slice.call(event.block.querySelectorAll(relativeSelector));let needUpdate=false;sliders.forEach(function(sliderNode){if($(sliderNode).slick("slickGetOption","vertical")){needUpdate=true}});if(needUpdate){BX.Landing.SliderHelper.init(event,BX.Landing.SliderHelper.ACTION_UPDATE)}if(event.node&&event.data&&event.data.style&&Object.keys(event.data.style).length>0){event.node.forEach(slide=>{let currentSavedStyles=$(slide).data("originalStyling")||"";for(const key in event.data.style){currentSavedStyles+=key+":"+event.data.style[key]+";"}$(slide).data("originalStyling",currentSavedStyles)})}},1e3));BX.addCustomEvent("BX.Landing.Editor:enable",function(target){var parentBlock=BX.findParent(target,{class:"block-wrapper"});if(parentBlock){if(parentBlock.querySelector("."+BX.Landing.SliderHelper.CAROUSEL_CLASS)){BX.Landing.SliderHelper.setEditorEnable(true);$(".js-carousel").slick("slickPause")}}});BX.addCustomEvent("BX.Landing.Editor:disable",function(){BX.Landing.SliderHelper.setEditorEnable(false);$(".js-carousel").slick("slickPlay")});BX.addCustomEvent("BX.Landing.Lazyload:loadImage",function(event){var relativeSelector=BX.Landing.SliderHelper.makeCarouselRelativeSelector(event);var sliders=[].slice.call(event.block.querySelectorAll(relativeSelector));sliders.forEach(function(sliderNode){var slickObj=$(sliderNode).slick("getSlick");if(slickObj){slickObj.setPosition()}})});BX.addCustomEvent("BX.Landing.Block:Node:updateAttr",function(event){BX.Landing.SliderHelper.init(event,BX.Landing.SliderHelper.ACTION_UPDATE)})})(window.jQueryLanding||jQuery);